<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SYMBIS Report - Page 7: Expectations</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Supabase for authentication -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="/config.js"></script>
    <script src="/lib/supabase-client-browser.js"></script>
    <script src="/navigation.js"></script>
    <script src="/status-manager.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;800&family=Open+Sans:ital,wght@0,400;0,600;1,400&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --symbis-red: #E54D42;
            --symbis-teal: #4FB8B1;
            --symbis-blue: #5B8FB9;
            --symbis-green: #83B643;
            --symbis-lime: #C4D600;
        }

        body {
            font-family: 'Open Sans', sans-serif;
            background-color: #f1f5f9;
            color: #334155;
        }

        .report-container {
            max-width: 950px;
            margin: 2rem auto;
            background: white;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.05);
            border-radius: 1.5rem;
            overflow: hidden;
        }

        h1,
        h2,
        h3 {
            font-family: 'Montserrat', sans-serif;
        }

        .header-rule {
            border-bottom: 2px dashed #e2e8f0;
            margin: 1.5rem 0;
        }

        .logo-text {
            font-family: 'Montserrat', sans-serif;
            font-weight: 900;
            letter-spacing: -0.05em;
        }

        /* Role Badge Styling */
        .role-badge {
            font-size: 11px;
            font-weight: 800;
            padding: 4px 12px;
            border-radius: 9999px;
            text-transform: uppercase;
            letter-spacing: 0.025em;
        }

        .assigned-p1 {
            background: #fee2e2;
            color: #9f1239;
        }

        .assigned-p2 {
            background: #dcfce7;
            color: #166534;
        }

        .assigned-both {
            background: #fef9c3;
            color: #854d0e;
        }

        .assigned-neither {
            background: #f1f5f9;
            color: #475569;
        }

        /* Perspective Indicator */
        .perspective-pill {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 4px 10px;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
        }

        .perspective-pill.me {
            border-color: #cbd5e1;
            background: #f1f5f9;
        }

        .perspective-pill.both {
            border-color: #fde68a;
            background: #fffbeb;
        }

        /* Row Hover */
        .expectation-item {
            transition: all 0.2s ease;
        }

        .expectation-item:hover {
            background-color: #f8fafc;
        }
    </style>
</head>

<body class="p-0 sm:p-4">
    <!-- Navigation Bar -->
    <div id="symbis-navigation"></div>

    <div class="report-container">
        <!-- Dashboard Header -->
        <div class="bg-white p-8 sm:p-14 pb-0">
            <!-- Breadcrumbs/Nav -->
            <div class="flex justify-between items-center mb-8">
                <a href="page6"
                    class="flex items-center gap-2 px-5 py-2 hover:bg-gray-50 rounded-full transition-colors text-sm font-bold text-gray-400">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                    Previous
                </a>
                <span class="text-gray-400 text-sm font-bold">Page 7</span>
                <a href="page8"
                    class="flex items-center gap-2 px-5 py-2 bg-[#5B8FB9] hover:bg-[#4a7ba1] rounded-full transition-colors text-sm font-bold text-white shadow-sm">
                    Next
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                </a>
            </div>

            <!-- Main Title Header -->
            <div class="flex flex-col sm:flex-row items-center sm:items-start gap-8 mb-10 text-center sm:text-left">
                <div class="flex-shrink-0">
                    <div
                        class="w-24 h-24 bg-gradient-to-br from-[#5B8FB9] to-[#4FB8B1] rounded-3xl flex items-center justify-center shadow-xl transform -rotate-3">
                        <svg class="w-14 h-14 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                            stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" />
                        </svg>
                    </div>
                </div>
                <div class="flex-1">
                    <div class="flex items-center gap-3 mb-2 justify-center sm:justify-start">
                        <span
                            class="px-3 py-1 bg-blue-50 text-[#5B8FB9] text-[11px] font-black uppercase tracking-wider rounded-md">Context</span>
                        <h1 class="text-3xl font-black text-gray-800 tracking-tight uppercase">Expectations</h1>
                    </div>
                    <p class="text-gray-500 italic text-[15px] leading-relaxed max-w-2xl">
                        Unconscious expectations about roles often come from your family of origin. Identifying them
                        early turns "unspoken" into "understood."
                    </p>
                </div>
            </div>

            <!-- Stats Summary Cards -->
            <div class="grid grid-cols-2 sm:grid-cols-4 gap-4 mb-10">
                <div class="bg-gray-50 rounded-2xl p-5 border border-gray-100 text-center">
                    <div class="text-2xl font-black text-gray-800" data-field="total_roles">0</div>
                    <div class="text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-1">Total Tasks</div>
                </div>
                <div class="bg-[#f0fdf4] rounded-2xl p-5 border border-green-100 text-center">
                    <div class="text-2xl font-black text-green-700" data-field="agreed_count">0</div>
                    <div class="text-[10px] font-bold text-green-500 uppercase tracking-widest mt-1">Role Agreement
                    </div>
                </div>
                <div class="bg-[#fffbeb] rounded-2xl p-5 border border-yellow-100 text-center">
                    <div class="text-2xl font-black text-yellow-700" data-field="discussion_count">0</div>
                    <div class="text-[10px] font-bold text-yellow-500 uppercase tracking-widest mt-1">Discussion Needed
                    </div>
                </div>
                <div class="bg-gray-50 rounded-2xl p-5 border border-gray-100 text-center">
                    <div class="text-2xl font-black text-gray-800" data-field="agreement_rate">0%</div>
                    <div class="text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-1">Alignment Rate</div>
                </div>
            </div>
        </div>

        <!-- Role Listing -->
        <div class="bg-[#f8fafc] p-8 sm:p-14 border-t border-gray-100">
            <!-- Agreed Section -->
            <div class="mb-12">
                <div class="flex items-center gap-3 mb-6">
                    <div
                        class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white shadow-sm">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>
                    <h2 class="text-lg font-bold text-gray-800">Clear Role Agreements</h2>
                    <span class="text-xs font-bold text-gray-400 px-3 py-1 bg-white rounded-full shadow-sm"
                        data-field="agreed_sublabel">Tasks you both agree on</span>
                </div>

                <div class="bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden">
                    <div id="agreed-roles-container" class="divide-y divide-gray-100">
                        <!-- Rows injected by JS -->
                        <div class="p-8 text-center text-gray-400 italic">No agreements found yet.</div>
                    </div>
                </div>
            </div>

            <!-- Needs Discussion Section -->
            <div class="mb-12">
                <div class="flex items-center gap-3 mb-6">
                    <div
                        class="w-8 h-8 rounded-full bg-yellow-500 flex items-center justify-center text-white shadow-sm">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                        </svg>
                    </div>
                    <h2 class="text-lg font-bold text-gray-800">Tasks to Discuss</h2>
                    <span class="text-xs font-bold text-gray-400 px-3 py-1 bg-white rounded-full shadow-sm"
                        data-field="discussion_sublabel">Different perspectives found</span>
                </div>

                <div class="bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden">
                    <div id="discussion-roles-container" class="divide-y divide-gray-100">
                        <!-- Rows injected by JS -->
                        <div class="p-8 text-center text-gray-400 italic">Everything is in sync!</div>
                    </div>
                </div>
            </div>

            <!-- Reflection/Discussion Topic -->
            <div class="bg-[#F0F8F7] rounded-3xl p-8 border-l-8 border-[#4FB8B1]">
                <div class="flex gap-4">
                    <div
                        class="flex-shrink-0 w-10 h-10 bg-[#4FB8B1] rounded-2xl flex items-center justify-center text-white">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2L15 8L21 9L16 14L18 20L12 17L6 20L8 14L3 9L9 8L12 2Z" />
                        </svg>
                    </div>
                    <div>
                        <h3 class="text-xs font-black text-[#4FB8B1] uppercase tracking-widest mb-3">Facilitator Prompt
                        </h3>
                        <p class="text-[16px] text-gray-700 font-bold italic leading-relaxed"
                            data-field="reflection_question">
                            Loading discussion prompt...
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="bg-white p-10 pt-4 border-t border-gray-100">
            <div class="flex flex-col sm:flex-row justify-between items-center text-[13px] text-gray-500">
                <div class="italic mb-4 sm:mb-0">
                    Refer to Chapter 1 of SYMBIS: "Have You Faced the Myths of Marriage with Honesty?"
                </div>
                <div class="flex items-center gap-1">
                    <span class="logo-text text-gray-800 text-3xl">SYMBIS</span>
                    <span class="text-[var(--symbis-red)] text-2xl font-black mb-1 mx-0.5">â™¥</span>
                    <span class="text-gray-400 font-black text-[11px] mt-2 tracking-[0.2em]">ASSESSMENT</span>
                    <span class="ml-6 text-gray-800 text-3xl font-black">7</span>
                </div>
            </div>
        </footer>
    </div>

    <!-- Navigation JS -->
    <div id="report-navigation"></div>
    <script src="/report-renderer.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (typeof SymbisNav !== 'undefined') {
                SymbisNav.init('report', 7);
            }
        });
    </script>
</body>

</html>